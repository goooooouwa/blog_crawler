<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>High Dynamic Range Lighting</title>
<link>https://blog.codinghorror.com/high-dynamic-range-lighting/</link>
<content>
                <!--kg-card-begin: markdown--><p>
At the <a href="http://blogs.pcworld.com/staffblog/archives/000743.html">nVidia 7800 launch event</a> today, one of the video rendering technology highlights was <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/directx9_c/directx/graphics/TutorialsAndSamples/Samples/HDRLighting.asp">high dynamic range lighting</a>. Almost all video cards in use today are limited to 32 bit color values-- that's 8 bits for red, green, and blue, with the "rounded" 8 bits typically thrown away*. 24 bits is enough to represent most of the colors the human eye can see. But <b>those 8 bits per color also represent intensity</b>. That means the brightest white is 255, 255, 255-- only 256 times brighter than the blackest black. This vastly underrepresents both the dynamic range of light in the real world (10<sup>12</sup> to 1) and the dynamic range of the human eyeball (1000 to 1).
</p>
<p>
That's why HDR lighting uses 64-bit values to represent color, which offers both 16 bits of color precision and 16 bits of brightness. As the chief scientist at nVidia points out in <a href="http://www.extremetech.com/print_article2/0,2533,a=141480,00.asp">a recent Q&amp;A session</a>, don't underestimate the importance of good old black and white:</p>
<p>
</p>
<p>
</p>
<blockquote>
Reader Question: What is your opinion about some of the new graphical features that are being implemented in games? Some are quite beneficial to GPU performance, such as normal-map compression and virtual displacement mapping. But others are very costly to performance, specifically high-dynamic-range lighting. After seeing the extreme over-saturation of light with HDR in Far Cry (even on the lower levels of HDR) and the performance hit it took, I personally am not convinced that HDR is a method that should be pursued any longer. What are your opinions on this subject? -- cfee2000
<p>
David Kirk: <b>I think that High Dynamic Range Lighting is going to be the single most significant change in the visual quality over the next couple of years. It's almost as big as shading.</b>
</p>
<p>
The reason for this is that games without HDR look flat. They should, since they are only using a range of 256:1 in brightness -- a small fraction of what our eyes can see. Consequently, low-dynamic-range imagery looks flat and featureless, no highs, and no detail in the shadows, the lows. If you game using a DFP (LCD display), you probably can't tell the difference anyway, since most LCD displays only have 5 or 6 bits of brightness resolution -- an even narrower 32:1 or 64:1 range of brightness. On a CRT, you can see a lot more detail, and on the newer high-resolution displays, you can see not only the full 8 bits, but even more. There are new HDR displays that can display a full 16-bit dynamic range, and I can tell you that the difference is stunning. When these displays become more affordable in the next year or two, I don't know how we'll ever go back to the old way.
</p>
</blockquote>
<p>
Here are some comparative screenshots from <a href="http://www.farcry.ubi.com/">Far Cry</a>, which supports HDR lighting as of the 1.3 patch:
</p>
<p>
<img alt="farcry_hdr.jpg" border="0" class="at-xid-6a0120a85dcdae970b0120a86d4d19970b" height="384" src="https://blog.codinghorror.com/content/images/uploads/2005/06/6a0120a85dcdae970b0120a86d4d19970b-pi.jpg" width="480"><br>
High dynamic range lighting (64-bit color)
</p>
<p>
<img alt="farcry_no_hdr.jpg" border="0" class="at-xid-6a0120a85dcdae970b0120a86d4d2b970b" height="384" src="https://blog.codinghorror.com/content/images/uploads/2005/06/6a0120a85dcdae970b0120a86d4d2b970b-pi.jpg" width="480">
<br>
Standard lighting (32-bit color)
</p>
<p>
The effect is not always obvious, but it's just as significant as the move from 16-bit color to 32-bit color in my opinion. It's like going from dial-up to broadband; you don't really know what you've been missing until you've seen it in action.
</p>
<p>
Of course, <a href="http://en.wikipedia.org/wiki/TANSTAAFL">TANSTAAFL</a>: increasing the data payload from 32-bit to 64-bit hurts performance. Although the GeForce 6 supported HDR lighting, the <a href="http://www.nvidia.com/page/geforce_7800.html">new GeForce 7</a> is supposedly the first generation of video card that can deliver HDR without significantly impairing performance.
</p>
<p>
* The data has to be rounded to the nearest power of two for performance.  I'm not entirely sure what is done with the "extra" bits in 32-bit and 64-bit color framebuffers.
</p>
<p>
</p>
<p></p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2005-06-21T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/high-dynamic-range-lighting/</guid>
</item>
</channel>
</rss>
