<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>Vista and the Rise of the Flash Drives</title>
<link>https://blog.codinghorror.com/vista-and-the-rise-of-the-flash-drives/</link>
<content>
                <!--kg-card-begin: markdown--><p>
In my recent <a href="http://www.codinghorror.com/blog/archives/000678.html">Windows Vista performance investigation</a>, I discovered the new <a href="http://www.microsoft.com/windowsvista/features/foreveryone/performance.mspx">ReadyBoost</a> feature. ReadyBoost allows you to <b>augment your PC's performance using a USB flash memory drive.</b> It's very easy to use; just plug in a USB flash drive that's 256 megabytes or larger, then navigate to the ReadyBoost tab on the properties dialog for the drive:
</p>
<p>
<img alt="vista-readyboost.png" border="0" class="at-xid-6a0120a85dcdae970b0128776fedb6970c" height="266" src="https://blog.codinghorror.com/content/images/uploads/2006/09/6a0120a85dcdae970b0128776fedb6970c-pi.png" width="377">
</p>
<p>
The drive has to meet certain minimum performance characteristics (defined in the <a href="http://blogs.msdn.com/tomarcher/archive/2006/06/02/615199.aspx">ReadyBoost FAQ</a>) to be usable for ReadyBoost. Vista performs a one-time performance benchmark on the drive after it's inserted to determine if the drive is suitable.
</p>
<p>
But what is ReadyBoost actually <i>doing</i> to improve performance? It's leveraging the <b>unique advantages of flash memory</b>..
</p>
<p>
</p>
<ol>
<li>decent read and write speeds
</li>
<li>extremely fast random access times
</li>
<li>very low power consumption
</li>
</ol>
<p>
.. by caching the system pagefile on that USB flash drive.* Subsequent accesses hit the cached, compressed pagefile on the flash drive and bypass the hard drive entirely.
</p>
<p>
If we've gone this far, you might wonder why we just don't go all the way and <a href="http://www.reghardware.co.uk/2006/03/21/samsung_unveils_ssd/">use a giant 32-gigabyte flash drive</a> as our primary hard drive. I can think of three reasons why you wouldn't want to do that:
</p>
<p>
</p>
<ol>
<li>Speed. Flash memory is fast, but it's not nearly as fast a modern hard drive. And it's not even remotely in the same league as system memory.
</li>
<li>Cost. Although flash memory pricing has been in freefall for a while, it's still rather expensive on a cost-per-megabyte basis. This will definitely change over time, however.
</li>
<li>Durability. Flash memory literally wears out after a fixed number of writes, usually 100,000 or so. Hard drives last many orders of magnitude longer.
</li>
</ol>
<p>
Also, the performance benefits of a solid state hard drive-- even one based on ultra-fast battery-backed DDR memory-- <a href="http://www.codinghorror.com/blog/archives/000349.html">aren't as amazing as you might think</a>.
</p>
<p>
That's why the best solution might be a combination of traditional mechanical hard drives <i>and</i> flash memory-- <b>so-called "hybrid" hard drives with embedded flash cache</b>. For example, the <a href="http://www.seagate.com/cda/newsinfo/newsroom/releases/article/0,,3199,00.html">Seagate Momentus 5400 PSD</a> includes 256 megabytes of flash RAM. This feature is called <a href="http://www.microsoft.com/whdc/system/sysperf/accelerator.mspx">ReadyDrive</a>, and it's even better than ReadyBoost. Unlike a USB flash drive, the flash RAM on a hard drive can be read <i>before the system is booted</i>, and thus can be used to speed up boot and resume times, too.
</p>
<p>
It's looking more and more like flash memory is the future. But be careful, because <b>not all flash memory is created equal</b>. I researched USB flash drive performance recently and I found benchmark roundups at <a href="http://www.hardwaresecrets.com/article/321/4">hardware secret</a>,
<a href="http://www.anandtech.com/memory/showdoc.aspx?i=2549&amp;p=1">AnandTech</a>, and
<a href="http://arstechnica.com/reviews/hardware/flash2005.ars/1">Ars Technica</a>. In my research, I found that there are at least three distinct tiers of flash drive performance today: mediocre, good, and best. The price difference between the best performers and the worst performers isn't much, so you might as well buy the fast ones.  The flash drives that performed the best in the above three benchmarks were the <b>Kingston Data Traveller Elite</b> and the <b>Lexar JumpDrive Lightning</b>.
</p>
<p>
Cheap flash drives are cheap for a reason-- they skimp on performance. Here's performance comparison of three USB thumb drives I had on hand: a 1 gigabyte Iomega Micro Mini, a 1 gigabyte Kingston Data Traveler Elite, and a generic no-name 128 megabyte model I got at a trade show.
</p>
<p>
I ran <a href="http://www.sisoftware.net/">SiSoft Sandra's</a> flash memory test on these three drives. The results are summarized below. Note that the bars are stacked, so the total transfer rate is only as high as the largest sub-color in the bar.
</p>
<p>
<img alt="thumb-drive-graph-read-write-2.png" border="0" class="at-xid-6a0120a85dcdae970b0128776fede2970c" height="402" src="https://blog.codinghorror.com/content/images/uploads/2006/09/6a0120a85dcdae970b0128776fede2970c-pi.png" width="497">
</p>
<p>
There's a big disparity between read and write performance on flash drives. And small files are disproportionately painful to transfer through these devices. The cheaper the flash drive, the worse these characteristics will be. When you go for an inexpensive USB flash drive, that's the tradeoff you're making.
</p>
<p>
I also ran the <a href="http://www.benchmarkhq.ru/english.html?/be_hdd.html">command line chddspeed utility</a> on these three drives. Here are the results for the random access read test.
</p>
<p>
<img alt="thumb-drive-graph-random.png" border="0" class="at-xid-6a0120a85dcdae970b0128776fee0c970c" height="407" src="https://blog.codinghorror.com/content/images/uploads/2006/09/6a0120a85dcdae970b0128776fee0c970c-pi.png" width="516">
</p>
<p>
Flash memory is exceptionally strong at random access; my fast WD Raptor drive can't touch these scores.
</p>
<p>
Here are the <a href="http://www.benchmarkhq.ru/english.html?/be_hdd.html">chddspeed</a> results for sequential access.
</p>
<p>
<img alt="thumb-drive-graph-sequential.png" border="0" class="at-xid-6a0120a85dcdae970b0128776fee2f970c" height="401" src="https://blog.codinghorror.com/content/images/uploads/2006/09/6a0120a85dcdae970b0128776fee2f970c-pi.png" width="521">
</p>
<p>
Up to 12 Mb/sec is nothing to sneeze at, but it's nearly 6 times slower than the 68 Mb/sec the Raptor achieves. If you need fast sequential read (or write) speeds, you want a hard drive.
</p>
<p>
After all this analysis, it's clear to me that traditional hard drives and flash memory are quite complimentary; they're strong in different areas. But <b>flash drives are the future</b>. They will definitely replace hard drives in almost all low end and low power devices-- and future high performance hard drives will need to have a substantial chunk of flash memory on board to stay competitive.
</p>
<p>
* Yes, it's encrypted, and yes, it is optimized for the limited duty cycle of flash drives. It's even compressed, so that 1 GB flash drive is effectively 2 GB of cache. This is all covered in the excellent <a href="http://blogs.msdn.com/tomarcher/archive/2006/06/02/615199.aspx">ReadyBoost FAQ</a>.
</p>
<p>
</p>
<p></p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2006-09-12T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/vista-and-the-rise-of-the-flash-drives/</guid>
</item>
</channel>
</rss>
