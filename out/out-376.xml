<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>Re-Encoding Your DVDs</title>
<link>https://blog.codinghorror.com/re-encoding-your-dvds/</link>
<content>
                <!--kg-card-begin: markdown--><p>
Like Donald Knuth, I think <a href="http://www.informit.com/articles/article.aspx?p=1193856">much of the current multicore hype is overrated</a>.
</p>
<p>
</p>
<blockquote>
The machine I use today has dual processors. I get to use them both only when I'm running two independent jobs at the same time; that's nice, but it happens only a few minutes every week. If I had four processors, or eight, or more, I still wouldn't be any better off, considering the kind of work I do -- even though I'm using my computer almost every day during most of the day. So why should I be so happy about the future that hardware vendors promise? They think a magic bullet will come along to make multicores speed up my kind of work; I think it's a pipe dream. (No -- that's the wrong metaphor! "Pipelines" actually work for me, but threads don't. Maybe the word I want is "bubble.")
</blockquote>
<p>
Despite that, I've acknowledged all along there are <a href="http://www.codinghorror.com/blog/archives/000942.html">certain narrow tasks</a> that the proliferation of CPU cores will make <i>dramatically</i> faster. And one of my very favorite tasks in that niche is <b>encoding your DVD collection</b>.
</p>
<p>
I bought my first DVD about 10 years ago. At the time, they were <a href="http://en.wikipedia.org/wiki/DVD#Technology">a technical marvel</a>:
</p>
<p>
</p>
<ul>
<li>8.5 Gigabytes per side
</li>
<li>720 x 480 MPEG-2 video at 30 frames per second
</li>
<li>Dolby Digital (AC-3) or Digital Theater System (DTS) digital multichannel sound
</li>
</ul>
<p>
Today, those specs are <a href="http://www.codinghorror.com/blog/archives/000747.html">rapidly becoming pedestrian</a> in the face of high definition cable, broadcast, and Blu-Ray discs. A few of the <a href="http://en.wikipedia.org/wiki/List_of_video_sharing_websites">video sharing websites</a> offer something perilously close to DVD quality already.
</p>
<p>
I say <b>the DVD is the new MP3</b>. We're going to start tossing these things around like candy.
</p>
<p>
Unlike audio CDs, DVDs are already compressed digital data. You could extract the files from the DVD as-is, and play them back to your heart's content. No re-encoding required. But like <a href="http://en.wikipedia.org/wiki/The_Six_Million_Dollar_Man">The Six Million Dollar Man</a>, we can rebuild them better than they were before. Video codecs have advanced tremendously since the heady days of MPEG-2. These new codecs <a href="http://www.codinghorror.com/blog/archives/000746.html">take a lot more playback horsepower than MPEG-2</a>, but offer comparable quality in about one-fourth the size. We can <b>turn our digital DVDs into <i>better</i> digital DVDs</b> through superior computer science.
</p>
<p>
But if you thought the <i>playback</i> performance demands of these new codecs were severe, wait until you see the <i>encoding</i> performance demands. It's <b>only in the last year or two that typical CPUs could encode new-fangled MPEG-4 or VC1 at anything even approaching real time</b>. But now, with extremely fast dual cores trickling all the way down to the mainstream, and quad-core CPUs carving out a decent share for themselves-- the average user could potentially rip and encode a typical DVD in less than 30 minutes. Per <a href="http://www.techarp.com/showarticle.aspx?artno=520">a recent H.264 benchmark dataset analysis</a>, you can statistically expect to <i>halve</i> your encode time when going from 2 to 4 cores.. and almost do it again when you go from 4 to 8!
</p>
<p>
<a href="http://www.techarp.com/showarticle.aspx?artno=520"><img alt="HD encoding benchmark results by CPU family" border="0" class="at-xid-6a0120a85dcdae970b0120a86dd238970b" height="253" src="https://blog.codinghorror.com/content/images/uploads/2008/05/6a0120a85dcdae970b0120a86dd238970b-pi.png" width="377"></a>
</p>
<p>
It helps, too, that there's great free software like <a href="http://handbrake.fr/">Handbrake</a> which makes it easy to harness that embarassment of desktop CPU power to encode your DVDs.
</p>
<p>
<img alt="handbrake screenshot" border="0" class="at-xid-6a0120a85dcdae970b0120a86dd273970b" height="595" src="https://blog.codinghorror.com/content/images/uploads/2008/05/6a0120a85dcdae970b0120a86dd273970b-pi.png" width="680">
</p>
<p>
Yes, there are an intimidating number of knobs and dials to potentially tweak here, but what I like about handbrake is that I largely don't have to. There are some logical presets on the right (clipped out of the screenshot for size, unfortunately) which will get you headed in the right direction: AppleTV, iPod, Film, Xbox 360, and so forth. I do set a handful of variables, like the overall bitrate -- I prefer something between 900 and 1200 -- and whether I need to deinterlace the source. But I mostly let Handbrake use its "auto" defaults, and get excellent results. If you're curious about the details, there's a <a href="http://www.modmini.com/theatre/howto/dvdjukebox/conversion.php">well-written description</a> of many of the Handbrake settings.
</p>
<p>
I had the most luck with the H.264 codec, which is aggressively multithreaded. I achieved 30-40 fps on my modest new <a href="http://www.codinghorror.com/blog/archives/001107.html">power efficient dual-core HTPC processor</a>, and upwards of 100 fps on my <a href="http://www.codinghorror.com/blog/archives/001102.html">overclocked 4 GHz dual-core</a>. Fortunately, Handbrake supports a batch encode mode, so you can queue up a bunch of jobs to run overnight.
</p>
<p>
I was <i>particularly</i> excited to find that I can pass the digital audio directly through <a href="http://trac.handbrake.fr/wiki/SurroundSoundGuide">using the "AC3" setting</a> for the audio encoder. That means, when playing these files back on a home theater PC, <b>the digital audio arrives at your receiver in exactly the same way it would from a DVD</b>, with a <a href="http://is.gd/9vc">few minor adjustments in ffdshow</a>. There is no audio degradation or conversion whatsoever! As something of an audiophile, I suffered mightily through many a re-encoded DVD that was downmixed to plain vanilla stereo over the years, so this is a huge step forward in my book.
</p>
<p>
So, in summary -- <b>nearly the same digital video quality, exactly the same digital audio quality, all wrapped up in a single file less than a quarter of the original size of the DVD.</b> Seriously, I get chills. It's geek nirvana. What's not to love about encoding your DVD collection? It's also a perfect use of those four CPU cores, which would otherwise lay idle 99% of the time.
</p>
<p>
Take, for example, one of my favorite movies, <a href="http://www.imdb.com/title/tt0387808/">Idiocracy</a>. I used Handbrake to convert this DVD from a set of files totalling 4.15 GB to a single 995 MB file, at almost no quality loss. See for yourself.
</p>
<p>
Still image captured from original DVD:
</p>
<p>
<img alt="idiocracy-tv dvd" border="0" class="at-xid-6a0120a85dcdae970b0120a86dd2bc970b" height="439" src="https://blog.codinghorror.com/content/images/uploads/2008/05/6a0120a85dcdae970b0120a86dd2bc970b-pi.jpg" width="784">
</p>
<p>
Still image captured from H.264 encoded video of DVD:
</p>
<p>
<img alt="idiocracy-tv h264" border="0" class="at-xid-6a0120a85dcdae970b0120a86dd2e5970b" height="425" src="https://blog.codinghorror.com/content/images/uploads/2008/05/6a0120a85dcdae970b0120a86dd2e5970b-pi.jpg" width="781">
</p>
<p>
</p>
<p>
The above still was used in an earlier post, <a href="http://www.codinghorror.com/blog/archives/000772.html">A World of Endless Advertising</a>. I love being able to grab a movie file over the network and quickly get the exact still I need for a blog post. Yes, there is a tiny loss of fidelity -- particularly in the chair shadows on the bottom left, and the grain of the wall texture at the upper left. But I'm willing to live with that compromise if it means I don't have to pull ginormous 8 GB ISO images files over the network.
</p>
<p>
Why re-encode DVDs you already own? For convenience, mostly -- so you can watch them on your mobile devices, on your PCs, laptops, and anything else that vaguely resembles a computer in your home. Might as well put all those CPU horses to proper use. <b>A re-encoded DVD is <i>so</i> much more flexible</b> than those physical hunks of round, reflective plastic.
</p>
<p>
</p>
<p></p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2008-05-01T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/re-encoding-your-dvds/</guid>
</item>
</channel>
</rss>
