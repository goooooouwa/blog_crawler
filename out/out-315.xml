<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>The Importance of Sitemaps</title>
<link>https://blog.codinghorror.com/the-importance-of-sitemaps/</link>
<content>
                <!--kg-card-begin: markdown--><p>
So I've been busy with <a href="http://www.codinghorror.com/blog/archives/001169.html">this Stack Overflow thing</a> over the last two weeks. By way of apology, I'll share a little statistic you might find interesting: the <b>percentage of traffic from search engines</b> at <a href="http://stackoverflow.com/">stackoverflow.com</a>.
</p>
<p>
</p>
<table cellpadding="4" cellspacing="4" width="400">
<tr>
<td>
<b>Sept 16th</b><br>one day after public launch</td>
<td>10%</td>
</tr>
<tr>
<td>
<b>October 11th</b><br>less than one month after public launch</td>
<td><font color="red">50%</font></td>
</tr>
</table>
<p>
I try to be politically correct in discussing web search, avoiding the g-word whenever possible, desperately attempting to preserve the illusion that web search is actually a competitive market. But it's becoming a transparent and cruel joke at this point. <b>When we say "web search" we mean one thing, and one thing only: Google</b>. <a href="http://www.skrenta.com/2006/12/googles_true_search_market_sha.html">Rich Skrenta explains</a>:
</p>
<p>
</p>
<blockquote>
I'm not a professional analyst, and my approach here is pretty back-of-the-napkin. Still, it confirms what those of us in the search industry have known for a long time.
<p>
The New York Times, for instance, gets nearly 6 times as much traffic from Google as it does from Yahoo. Tripadvisor gets 8 times as much traffic from Google vs. Yahoo.
</p>
<p>
Even Yahoo's own sites are no different. While it receives a greater fraction of Yahoo search traffic than average, Yahoo's own flickr service gets 2.4 times as much traffic from Google as it does from Yahoo.
</p>
<p>
My favorite example: According to Hitwise, [ex] Yahoo blogger Jeremy Zawodny gets 92% of his inbound search traffic from Google, and only 2.7% from Yahoo.
</p>
</blockquote>
<p>
That was written almost two years ago. Guess which way those numbers have gone since then?
</p>
<p>
Google generally does a great job, so they deserve their success wholeheartedly, but I have to tell you: Google's current position as <a href="http://www.skrenta.com/2007/01/winnertakeall_google_and_the_t.html">the start page for the internet</a> kind of scares the crap out of me, in a way that Microsoft's dominance over the desktop PC never did. I mean, monopoly power over a desktop PC is one thing -- but the internet is the whole of human knowledge, or something rapidly approaching that. Do we really trust one company to be a benevolent monopoly over.. well, <i>everything?</i>
</p>
<p>
But I digress. <b>Our public website isn't even a month old, and Google is already half our traffic</b>. I'm perfectly happy to feed Google the kind of quality posts (well, mostly) fellow programmers are creating on Stack Overflow. The traffic graph provided by Analytics is amusingly predictable, as well.
</p>
<p>
<img alt="stackoverflow.com traffic graph, sep. 16 - oct. 11" border="0" class="at-xid-6a0120a85dcdae970b0120a86df949970b" height="123" src="https://blog.codinghorror.com/content/images/uploads/2008/10/6a0120a85dcdae970b0120a86df949970b-pi.png" width="649">
</p>
<p>
Giant peak of initial interest, followed by the inevitable trough of disillusionment, and then the growing weekly humpback pattern of a site that actually (shock and horror) appears to be <i>useful</i> to some people. Go figure. Guess they call it <a href="http://www.crackoverflow.com/">crackoverflow</a> for a reason.
</p>
<p>
We knew from the outset that Google would be a big part of our traffic, and I wanted us to rank highly in Google for one very selfish reason -- <b>writing search code is hard</b>. It's far easier to outsource the burden of search to Google and their legions of server farms than it is for our tiny development team to do it on our one itty-bitty server. At least not <i>well</i>.
</p>
<p>
I'm constantly looking up my own stuff via Google searches, and I guess I've gotten spoiled. I expect to type in a few relatively unique words from the title and have whatever web page I know is there appear instantly in front of me. For the first two weeks, this was definitely not happening reliably for Stack Overflow questions. I'd type in the <i>exact title</i> of a question and get nothing. Sometimes I'd even get copies of our content from evil RSS scraper sites that plug in their own ads of questionable provenance, which was downright depressing. Other times, I'd enter a question title and get a <i>perfect</i> match. Why was old reliable Google letting me down? Our site is simple, designed from the outset to be easy for search engines to crawl. What gives?
</p>
<p>
What I didn't understand was the importance of a little file called <a href="http://en.wikipedia.org/wiki/Sitemaps">sitemap.xml</a>.
</p>
<p>
On a Q&amp;A site like Stack Overflow, only the most recent questions are visible on the homepage. The URL to get to the <i>entire</i> list of questions looks like this:
</p>
<p>
</p>
<pre>
http://stackoverflow.com/questions
http://stackoverflow.com/questions?page=2
http://stackoverflow.com/questions?page=3
..
http://stackoverflow.com/questions?page=931
</pre>
<p>
Not particularly complicated. I naively thought Google would have no problem crawling all the questions in this format. But after two weeks, it wasn't happening. My teammate, Geoff, clued me in to <a href="http://www.google.com/support/webmasters/bin/answer.py?answer=40318&amp;topic=13450">Google's webmaster help page on sitemaps</a>:
</p>
<p>
</p>
<blockquote>
Sitemaps are particularly helpful if:
<p>
</p>
<ul>
<li>Your site has dynamic content.
</li>
<li>Your site has pages that aren't easily discovered by Googlebot during the crawl process - for example, pages featuring rich AJAX or Flash.
</li>
<li>Your site is new and has few links to it. (Googlebot crawls the web by following links from one page to another, so if your site isn't well linked, it may be hard for us to discover it.)
</li>
<li>Your site has a large archive of content pages that are not well linked to each other, or are not linked at all.
</li>
</ul>
</blockquote>
<p>
I guess I was spoiled by my previous experience with blogs, which are almost incestuously hyperlinked, where everything ever posted has a permanent and static hyperlink attached to it, with simple monthly and yearly archive pages. With more dynamic websites, this isn't necessarily the case. The pagination links on Stack Overflow were apparently enough to prevent full indexing.
</p>
<p>
Enter <code>sitemap.xml</code>. The file itself is really quite simple; it's basically a non-spammy, non-shady way to have a "page" full of links that you feed to search engines. A way that is officially supported and endorsed by all the major web search engines. An individual record looks something <a href="http://sitemaps.org/protocol.php">like this</a>:
</p>
<p>
</p>
<pre>
&lt;url&gt;
&lt;loc&gt;<b><a href="http://stackoverflow.com/questions/24109/c-ide-for-linux">http://stackoverflow.com/questions/24109/c-ide-for-linux</a></b>&lt;/loc&gt;
&lt;lastmod&gt;<b>2008-10-11</b>&lt;/lastmod&gt;
&lt;changefreq&gt;<b>daily</b>&lt;/changefreq&gt;
&lt;priority&gt;<b>0.6</b>&lt;/priority&gt;
&lt;/url&gt;
</pre>
<p>
The above element is repeated for each one of the ~27,000 questions on Stack Overflow at the moment. Most search engines assume the file is at the root of your site, but you can inform them of an alternate location through <a href="http://en.wikipedia.org/wiki/Robots.txt">robots.txt</a>:
</p>
<p>
</p>
<pre>
User-Agent: *
Allow: /
Sitemap: /sitemap.xml
</pre>
<p>
There are also limits on size. The <code>sitemaps.xml</code> file cannot exceed 10 megabytes in size, with no more than 50,000 URLs per file. But you can have multiple sitemaps in a sitemap index file, too. If you have millions of URLs, you can see where this starts to get hairy fast.
</p>
<p>
<b>I'm a little aggravated that we have to set up this special file for the Googlebot to do its job properly</b>; it seems to me that web crawlers should be able to spider down our simple paging URL scheme without me giving them an explicit assist.
</p>
<p>
The good news is that since we set up our <code>sitemaps.xml</code>, every question on Stack Overflow is eminently findable. But when 50% of your traffic comes from one source, perhaps it's best not to ask these kinds of questions.
</p>
<p>
<a href="http://kottke.org/06/09/pixelated-google-overlords"><img alt="pixelated google overlords" border="0" class="at-xid-6a0120a85dcdae970b0120a86df94d970b" height="182" src="https://blog.codinghorror.com/content/images/uploads/2008/10/6a0120a85dcdae970b0120a86df94d970b-pi.png" width="400"></a>
</p>
<p>
Just smile and nod and follow the rules like everyone else. I, for one, <a href="http://kottke.org/06/09/pixelated-google-overlords">welcome our pixelated Google overlords!</a>
</p>
<p>
</p>
<p></p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2008-10-12T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/the-importance-of-sitemaps/</guid>
</item>
</channel>
</rss>
