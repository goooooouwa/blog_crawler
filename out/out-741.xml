<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>Whitelist, Blacklist, Greylist</title>
<link>https://blog.codinghorror.com/whitelist-blacklist-greylist/</link>
<content>
                <!--kg-card-begin: markdown--><p>
I recently got into a spirited discussion about <a href="http://akismet.com/">Akismet</a>. What is Akismet?
</p>
<p>
</p>
<blockquote>
When a new comment, trackback, or pingback comes to your blog it is submitted to the Akismet web service which runs hundreds of tests on the comment and returns a thumbs up or thumbs down.
</blockquote>
<p>
Akismet is awfully coy about the "tests" they run to distinguish between spam and everything else. I believe Akismet is essentially the same as the old <a href="http://www.jayallen.org/projects/mt-blacklist/">mt-blacklist</a> plugin I use to block trackback spam. But instead of manually entering blacklist terms, Akismet <a href="http://akismet.com/faq/">harnesses the collective knowledge of the intarwebs</a>. As soon as one person blacklists something, it's blacklisted for the entire Akismet community. And it definitely works. It's so effective that <a href="http://www.hanselman.com/">some people</a> use it as their only protection against spam comments and trackbacks. I think this is very unwise.
</p>
<p>
First of all, blacklists aren't a panacea. They have their pros and cons. Just ask <a href="http://photomatt.net/">Matt Mullenweg</a>, the author of Akismet. He recently left <a href="http://elliottback.com/wp/archives/2006/09/23/akismet-hack/">this comment</a> on a blog post:
</p>
<p>
</p>
<blockquote>
Unfortunately, <b>the DNS realtime blacklists cause an unusually high false positive rate</b>, which is why we don't use them anymore.
</blockquote>
<p>
Interesting. And if you're going to keep a blacklist, you might as well keep a greylist and whitelist, too:
</p>
<p>
<img alt="whitelist, greylist, blacklist" border="0" class="at-xid-6a0120a85dcdae970b0120a86d724f970b" height="220" src="https://blog.codinghorror.com/content/images/uploads/2006/10/6a0120a85dcdae970b0120a86d724f970b-pi.png" width="672">
</p>
<p>
These three lists have been around as long as spam itself:
</p>
<p>
   Items on the <b>Blacklist</b> are <i>never allowed through</i>. They are either held in a moderation queue, or deleted.
</p>
<p>
   Items on the <b>Whitelist</b> are <i>always allowed through</i>.
</p>
<p>
   Items on the <b>Greylist</b> are <i>held for human moderation</i>.
</p>
<p>
Akismet also offers <a href="http://www.darcynorman.net/image/2006/06/akismet-spam-attack">a moderation queue</a>, so it has aspects of a greylist as well. Instead of spending time maintaining a blacklist, you spend time <a href="http://www.problogger.net/archives/2006/07/29/comment-spam-is-akismet-ok/">staring down a greylist moderation queue</a>. I'm not so sure that's an improvement. If you consider Akismet a success because you <i>ignore the moderation queue entirely</i>, have you really succeeded?
</p>
<p>
It's also quite possible to use <a href="http://www.iampariah.com/blog/2005/12/whitelist-spam-attacks-threaten-blogs-and-email/">whitelist attacks</a> on blacklists, where spammers use innocent and legitimate URLs in their spam. I've had a few of these myself. Even if you don't have a whitelist, attacks like this greatly reduce the effectiveness of a blacklist-- legitimate domains end up blacklisted through collateral damage.
</p>
<p>
But let's forget, for a moment, all the problems I just described with blacklists, whitelists, and greylists. <b>The core problem is relying on a single method of defense against spam.</b> Relying <i>only</i> on Akismet means:
</p>
<p>
</p>
<ol>
<li>You've added an external dependency to your website. <a href="http://www.codinghorror.com/blog/archives/000497.html">I hate dependencies</a>, and I always strive to keep the number of dependencies I accept to an absolute minimum.
</li>
<li>If Akismet goes down, you either get inundated by spam while the floodgates are open, or nobody can comment/trackback. Neither scenario is desirable.
</li>
<li>I get 75 spam trackbacks per <i>hour</i> on this blog. Multiply that the number of blogs on the internet, and you get an astronomically large number. Why should Akismet have to check every single one of those? Does Akismet have the capacity to scale that large? And is it reasonable to expect them to?
</li>
</ol>
<p>
I can understand making the choice to use Akismet exclusively for trackbacks, where <a href="http://underscorebleach.net/jotsheet/2005/08/track-back-ping-movable-type-wordpress-blog-blogging-blogger-weblog-spam-spammer-spamming">our options for combating spam are severely limited</a>. But for comments, <a href="http://www.codinghorror.com/blog/archives/000712.html">abandoning CAPTCHA</a> in favor of Akismet is unforgivable. <a href="http://engtech.wordpress.com/">Engtech</a> explains some of the problems with this approach in a recent comment:
</p>
<p>
</p>
<blockquote>
[Akismet] has been pretty effective, but there's been a few interesting cases:
<p>
</p>
<ul>
<li>compliment spam ("great post!" with website field linking to their p-rn/adsense splog site)
</li>
<li>only attacking blogs that appear to still have the default post as the first post -- less likely to monitor spam.
</li>
<li>one p-rn spammer who finds political/pop culture keywords in a post and inserts human crafted messages. Like: "Some people say Matt Damon isn't that good of an actor, I really liked him in Talented Mr. Ripley" whenever it finds a post with "Matt Damon"
</li>
</ul>
<p>
The one thing it has absolutely sucked at is spammers-to-be. People who are just testing out spam generation algorithms that have no payload. So you'll get random gibberish from an IP address and it will take a few days for Akismet to learn.
</p>
</blockquote>
<p>
Hearing this pains me greatly. All the of the above could have been completely eliminated by using <i>both</i> methods: <b>CAPTCHA to validate that it's a human, then Akismet to validate that it's not human-entered spam.</b>
</p>
<p>
Akismet is a fine addition to our anti-spamming toolkit. But that doesn't mean it's a good idea to outsource your entire anti-spam effort to a single website, either. Anti-spam security starts at home. For best results, use <a href="http://en.wikipedia.org/wiki/Defence_in_depth">defense in depth</a> and <b>combine local anti-spam measures, such as CAPTCHA, with Akismet as a backup.</b>
</p>
<p>
</p>
<p></p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2006-10-30T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/whitelist-blacklist-greylist/</guid>
</item>
</channel>
</rss>
