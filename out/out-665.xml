<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
<channel>
<title>Coding Horror</title>
<description>programming and human factors</description>
<link>https://blog.codinghorror.com/</link>
<pubDate>Sun, 19 Apr 2020 00:00:01 GMT</pubDate>
<!-- other elements omitted from this example -->
<item>
<title>Beyond JPEG</title>
<link>https://blog.codinghorror.com/beyond-jpeg/</link>
<content>
                <!--kg-card-begin: markdown--><p>
It's surprising that the venerable <a href="http://en.wikipedia.org/wiki/JPEG">JPEG image compression standard</a>, which dates back to 1986, is <strong>still the best we can do for photographic image compression</strong>. I can't remember when I encountered my first JPEG image, but JPEG didn't appear to enter practical use <a href="http://www.vias.org/pngguide/chapter07_01.html">until the early 90's</a>.
</p>
<p>
There's nothing <em>wrong</em> with JPEG. It's a perfectly serviceable image compression format. But there are newer, more modern choices these days. There's even a sequel of sorts to JPEG known as <a href="http://en.wikipedia.org/wiki/JPEG_2000">JPEG 2000</a>. It's the logical heir to the JPEG throne.
</p>
<p>
The promise of JPEG 2000 is <strong>higher image quality in much smaller file sizes</strong>, at the minor cost of <a href="http://wilshipley.com/blog/2005/09/jpeg2000-cool-but-slow.html">additional CPU time</a>. And since <a href="http://www.codinghorror.com/blog/archives/000044.html">we always seem to have a lot more CPU time than bandwidth</a>, this is a perfect tradeoff. You may remember my <a href="http://www.codinghorror.com/blog/archives/000629.html">comparsion of JPEG compression levels</a> entry from last year. Let's see what happens when we take the two worst-looking images from that comparison – the ones with JPEG compression factor 40 and 50 – and use JPEG 2000 to produce images of (nearly) the exact same size:
</p>
<table>
<tbody>
<tr>
<td>JPEG, ~8,200 bytes</td>
<td>JPEG 2000, ~8,200 bytes
</td>
</tr>
<tr>
<td>
<img class="at-xid-6a0120a85dcdae970b0128776fd878970c" src="https://blog.codinghorror.com/content/images/uploads/2007/02/6a0120a85dcdae970b0128776fd878970c-pi.jpg" alt="JPEG Lena image, filesize ~8,200 bytes, compression factor 50" width="384" height="384">
</td>
<td>
<a href="http://www.codinghorror.com/files/lena512color-50.jp2"><img src="https://blog.codinghorror.com/content/images/uploads/2007/02/6a0120a85dcdae970b017ee7857d23970d-pi.jpg" border="0" alt="JPEG 2000 Lena image, filesize ~8,200 bytes" width="384" height="384"></a>
</td>
</tr>
<tr>
<td>JPEG, ~10,700 bytes</td>
<td>JPEG 2000, ~10,700 bytes
</td>
</tr>
<tr>
<td>
<img class="at-xid-6a0120a85dcdae970b0128776fd86a970c" src="https://blog.codinghorror.com/content/images/uploads/2007/02/6a0120a85dcdae970b0128776fd86a970c-pi.jpg" alt="JPEG Lena image, filesize ~10,700 bytes, compression factor 50" width="384" height="384">
</td>
<td>
<a href="http://www.codinghorror.com/files/lena512color-40.jp2"><img src="https://blog.codinghorror.com/content/images/uploads/2007/02/lena512color40jp2ae0.jpg" border="0" alt="JPEG 2000 Lena image, filesize ~10,700 bytes" width="384" height="384"></a>
</td>
</tr>
</tbody>
</table>
<p>
No current web browsers can render JPEG 2000 (.jp2) images, so what you're seeing are extremely high quality JPEG versions of the JPEG 2000 images. Click on the images to download the actual JPEG 2000 files; most modern photo editing software can view them natively.
</p>
<p>
JPEG 2000 not only compresses more efficiently, it also does <a href="http://ai.fri.uni-lj.si/~aleks/jpeg/artifacts.htm">a better job of hiding its compression artifacts</a>, too. It takes a lot more bits per pixel to create a JPEG image that looks as good as a JPEG 2000 image. But if you're willing to <a href="http://www.fnordware.com/j2k/jp2samples.html">pump up the file size</a>, you aren't losing any fidelity by presenting JPEG images.
</p>
<p>
Microsoft, as Microsoft is wont to do, offers a closed-source alternative to JPEG 2000 known as <a href="http://en.wikipedia.org/wiki/HD_Photo">HD Photo or Windows Media Photo</a>. As of late 2006, Microsoft <a href="http://blogs.msdn.com/billcrow/archive/2006/11/17/introducing-hd-photo.aspx">made the format 100% royalty free</a>, and support for HD Photo is <a href="http://news.com.com/Vista+to+give+HD+Photo+format+more+exposure/2100-1045_3-6153730.html">included in Windows Vista</a> and .NET Framework 3.0. According to <a href="http://www.compression.ru/video/codec_comparison/wmp_codecs_comparison_en.html">this Russian study</a>, Files in Microsoft's HD Photo format (.hdp, .wdp) are comparable to-- but <em>not better than</em>-- JPEG 2000. The <a href="http://www.compression.ru/video/codec_comparison/pdf/wmp_codec_comparison_en.pdf">study PDF</a> has lots of comparison images, so you can decide for yourself.
</p>
<p>
Unfortunately, it doesn't really matter which next-generation image compression format is better, since <em>nobody uses them</em>. Microsoft neglected to include support for HD Photo in Internet Explorer 7. And Firefox doesn't currently support JPEG 2000, either. It's a bit of a mystery, because there's an <a href="http://bugzilla.mozilla.org/show_bug.cgi?id=36351">seven year-old open bug on JPEG 2000</a>, and the <a href="http://www.openjpeg.org/index.php?menu=main">OpenJPEG library</a> seems like a logical fit.
</p>
<p>
Until a commonly used web browser supports JPEG 2000 or HD Photo, there's no traction. I hope the next browser releases can <strong>move us beyond the ancient JPEG image compression format</strong>.
</p>
<!--kg-card-end: markdown-->
            </content>
<pubDate>2007-02-16T12:00:00.000Z</pubDate>
<guid>https://blog.codinghorror.com/beyond-jpeg/</guid>
</item>
</channel>
</rss>
